import{u as N,r as l,g as b,j as e}from"./index-tsYpG-Wr.js";import{g as v,d as C,u as y,s as w}from"./storage-DPUFa0CT.js";import{F}from"./PlusIcon-CsXuBxtz.js";import{F as S}from"./PencilIcon-DuPQ1jVl.js";import{F as k}from"./TrashIcon-BuTnKVrD.js";function q(){const m=N(),[d,x]=l.useState([]),[r,u]=l.useState(""),[h,n]=l.useState(!1),[i,c]=l.useState(null),[t,a]=l.useState({name:"",email:"",phone:""});l.useEffect(()=>{if(!b()){m("/login");return}o()},[m]);const o=()=>{const s=v();x(s)},p=s=>{s.preventDefault(),i?y(i.id,t):w(t),n(!1),c(null),a({name:"",email:"",phone:""}),o()},f=s=>{c(s),a(s),n(!0)},j=s=>{window.confirm("Are you sure you want to delete this contact?")&&(C(s),o())},g=d.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())||s.email.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Contacts"}),e.jsxs("button",{onClick:()=>{c(null),a({name:"",email:"",phone:""}),n(!0)},className:"btn-primary flex items-center",children:[e.jsx(F,{className:"w-5 h-5 mr-2"}),"Add Contact"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",placeholder:"Search contacts...",value:r,onChange:s=>u(s.target.value),className:"input-field"})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:g.map(s=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.email}),e.jsx("p",{className:"text-gray-600",children:s.phone})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(s),className:"text-blue-600 hover:text-blue-800",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>j(s.id),className:"text-red-600 hover:text-red-800",children:e.jsx(k,{className:"w-5 h-5"})})]})]})},s.id))}),h&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:i?"Edit Contact":"Add New Contact"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",id:"name",value:t.name,onChange:s=>a({...t,name:s.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:t.email,onChange:s=>a({...t,email:s.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"phone",className:"block text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",value:t.phone,onChange:s=>a({...t,phone:s.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-primary",children:[i?"Update":"Add"," Contact"]})]})]})]})})]})}export{q as default};
