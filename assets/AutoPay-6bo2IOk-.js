import{r,u as I,g as U,j as e,d as T,f as L}from"./index-tsYpG-Wr.js";import{g as H}from"./storage-DPUFa0CT.js";import{F as Y}from"./PlusIcon-CsXuBxtz.js";import{F as W}from"./CalendarIcon-rV4IksRO.js";import{F as B}from"./PencilIcon-DuPQ1jVl.js";import{F as Z}from"./TrashIcon-BuTnKVrD.js";import{F as _,a as N}from"./ClockIcon-DvwxzpAO.js";function G({title:o,titleId:i,...m},h){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":i},m),o?r.createElement("title",{id:i},o):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const w=r.forwardRef(G);function Q({title:o,titleId:i,...m},h){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":i},m),o?r.createElement("title",{id:i},o):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const z=r.forwardRef(Q);function ne(){const o=I(),[i,m]=r.useState("active"),[h,x]=r.useState(!1),[y,f]=r.useState(null),[D,k]=r.useState([]),[M,J]=r.useState([{id:1,name:"Primary Checking Account",type:"bank",last4:"4567"},{id:2,name:"SigmaPay Platinum",type:"card",last4:"4589"},{id:3,name:"SigmaPay Rewards",type:"card",last4:"7821"}]),[l,p]=r.useState({recipient:"",amount:"",frequency:"monthly",startDate:"",endDate:"",paymentMethod:"",category:"",description:"",dayOfMonth:"1"}),[g,j]=r.useState([{id:1,recipient:"Mohamed Ibrahim",amount:1200,frequency:"monthly",startDate:"2024-01-01",endDate:"2024-12-31",nextPaymentDate:"2024-05-01",paymentMethod:"Primary Checking Account",category:"Housing",description:"Rent payment",status:"active",dayOfMonth:"1"},{id:2,recipient:"Andrew Gamal",amount:125.5,frequency:"monthly",startDate:"2024-01-15",endDate:null,nextPaymentDate:"2024-05-15",paymentMethod:"SigmaPay Platinum",category:"Utilities",description:"Electricity bill",status:"active",dayOfMonth:"15"},{id:3,recipient:"Omar Aly",amount:79.99,frequency:"monthly",startDate:"2024-02-20",endDate:null,nextPaymentDate:"2024-05-20",paymentMethod:"SigmaPay Rewards",category:"Utilities",description:"Internet service",status:"active",dayOfMonth:"20"},{id:4,recipient:"Ammar Eid",amount:9.99,frequency:"monthly",startDate:"2024-03-05",endDate:"2024-09-05",nextPaymentDate:"2024-05-05",paymentMethod:"SigmaPay Rewards",category:"Entertainment",description:"Streaming service",status:"active",dayOfMonth:"5"},{id:5,recipient:"Mohamed Ibrahim",amount:50,frequency:"weekly",startDate:"2024-01-07",endDate:"2024-04-01",nextPaymentDate:null,paymentMethod:"Primary Checking Account",category:"Other",description:"Weekly allowance",status:"completed",dayOfMonth:null}]),P=["Housing","Utilities","Transportation","Food","Entertainment","Shopping","Healthcare","Education","Debt","Savings","Other"],C=[{value:"weekly",label:"Weekly"},{value:"biweekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}];r.useEffect(()=>{if(!U()){o("/login");return}k(H());const n=new Date().toISOString().split("T")[0];p(d=>({...d,startDate:n}))},[o]);const c=t=>{const{name:a,value:n}=t.target;p(d=>({...d,[a]:n}))},S=t=>{if(t.preventDefault(),y){const a=g.map(n=>n.id===y?{...n,...l,id:y}:n);j(a),f(null)}else{const a={...l,id:Date.now(),status:"active",nextPaymentDate:q(l.startDate,l.frequency,l.dayOfMonth)};j([...g,a])}p({recipient:"",amount:"",frequency:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:"",paymentMethod:"",category:"",description:"",dayOfMonth:"1"}),x(!1)},A=t=>{p({recipient:t.recipient,amount:t.amount,frequency:t.frequency,startDate:t.startDate,endDate:t.endDate||"",paymentMethod:t.paymentMethod,category:t.category,description:t.description,dayOfMonth:t.dayOfMonth||"1"}),f(t.id),x(!0)},F=t=>{window.confirm("Are you sure you want to delete this auto-payment?")&&j(g.filter(a=>a.id!==t))},b=()=>{p({recipient:"",amount:"",frequency:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:"",paymentMethod:"",category:"",description:"",dayOfMonth:"1"}),f(null),x(!1)},q=(t,a,n)=>{const d=new Date(t),u=new Date;let s=new Date(d);if(a==="monthly"&&n&&s.setDate(parseInt(n)),s<u)switch(a){case"weekly":for(;s<u;)s.setDate(s.getDate()+7);break;case"biweekly":for(;s<u;)s.setDate(s.getDate()+14);break;case"monthly":for(;s<u;)s.setMonth(s.getMonth()+1);break;case"quarterly":for(;s<u;)s.setMonth(s.getMonth()+3);break;case"annually":for(;s<u;)s.setFullYear(s.getFullYear()+1);break}return s.toISOString().split("T")[0]},O=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-gray-100 text-gray-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=t=>{switch(t){case"active":return e.jsx(w,{className:"w-4 h-4"});case"paused":return e.jsx(_,{className:"w-4 h-4"});case"completed":return e.jsx(w,{className:"w-4 h-4"});case"failed":return e.jsx(z,{className:"w-4 h-4"});default:return null}},R=t=>{switch(t){case"bank":return e.jsx(N,{className:"w-5 h-5"});case"card":return e.jsx(L,{className:"w-5 h-5"});default:return e.jsx(N,{className:"w-5 h-5"})}},v=t=>t.map(a=>e.jsxs("div",{className:"card hover:shadow-md transition-shadow mb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`p-2 rounded-full ${a.category==="Utilities"?"bg-blue-100 text-blue-600":a.category==="Housing"?"bg-purple-100 text-purple-600":"bg-indigo-100 text-indigo-600"}`,children:e.jsx(T,{className:"h-6 w-6"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:a.description}),e.jsx("p",{className:"text-gray-500",children:a.recipient}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O(a.status)}`,children:[E(a.status),e.jsx("span",{className:"ml-1",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),e.jsx("span",{className:"ml-2 text-gray-500 text-sm",children:a.frequency.charAt(0).toUpperCase()+a.frequency.slice(1)})]})]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col md:flex-row items-start md:items-center",children:[e.jsxs("div",{className:"text-right mr-6",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Amount"}),e.jsxs("p",{className:"text-xl font-semibold",children:["$",a.amount.toFixed(2)]}),a.nextPaymentDate&&e.jsxs("p",{className:"text-gray-500 text-sm flex items-center justify-end",children:[e.jsx(W,{className:"w-4 h-4 mr-1"}),"Next: ",new Date(a.nextPaymentDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex space-x-2 mt-2 md:mt-0",children:[e.jsx("button",{onClick:()=>A(a),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full",title:"Edit",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>F(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Delete",children:e.jsx(Z,{className:"w-5 h-5"})})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Payment Method"}),e.jsxs("p",{className:"flex items-center",children:[R(a.paymentMethod.includes("Card")?"card":"bank"),e.jsx("span",{className:"ml-1",children:a.paymentMethod})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Category"}),e.jsx("p",{children:a.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Start Date"}),e.jsx("p",{children:new Date(a.startDate).toLocaleDateString()})]}),a.endDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"End Date"}),e.jsx("p",{children:new Date(a.endDate).toLocaleDateString()})]})]})})]},a.id)),$=()=>{switch(i){case"active":const t=g.filter(n=>n.status==="active");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Active Auto-Payments"}),e.jsxs("p",{className:"text-gray-600",children:["Total: $",t.reduce((n,d)=>n+d.amount,0).toFixed(2)," per month"]})]}),e.jsxs("button",{className:"btn-primary flex items-center",onClick:()=>x(!0),children:[e.jsx(Y,{className:"h-4 w-4 mr-1"}),"Set Up Auto-Pay"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"No active auto-payments found."}),e.jsx("button",{className:"mt-4 text-indigo-600 font-medium",onClick:()=>x(!0),children:"Set up your first auto-payment"})]}):v(t)]});case"history":const a=g.filter(n=>n.status==="completed");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Completed Auto-Payments"}),a.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No completed auto-payments found."})}):v(a)]});default:return null}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Auto-Pay Management"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Set up recurring payments to automatically pay your bills and send money."})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("nav",{className:"flex space-x-4 overflow-x-auto pb-2",children:[e.jsx("button",{className:`px-3 py-2 text-sm font-medium rounded-md ${i==="active"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>m("active"),children:"Active Auto-Payments"}),e.jsx("button",{className:`px-3 py-2 text-sm font-medium rounded-md ${i==="history"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>m("history"),children:"Payment History"})]})}),h?e.jsxs("div",{className:"card mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:y?"Edit Auto-Payment":"Set Up New Auto-Payment"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:b,children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"recipient",className:"block text-gray-700 mb-2",children:"Recipient"}),e.jsxs("select",{id:"recipient",name:"recipient",value:l.recipient,onChange:c,className:"input-field",required:!0,children:[e.jsx("option",{value:"",children:"Select a recipient"}),D.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"block text-gray-700 mb-2",children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"$"})}),e.jsx("input",{type:"number",id:"amount",name:"amount",value:l.amount,onChange:c,className:"input-field pl-8",placeholder:"0.00",min:"0.01",step:"0.01",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"frequency",className:"block text-gray-700 mb-2",children:"Frequency"}),e.jsx("select",{id:"frequency",name:"frequency",value:l.frequency,onChange:c,className:"input-field",required:!0,children:C.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),l.frequency==="monthly"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dayOfMonth",className:"block text-gray-700 mb-2",children:"Day of Month"}),e.jsx("select",{id:"dayOfMonth",name:"dayOfMonth",value:l.dayOfMonth,onChange:c,className:"input-field",required:!0,children:[...Array(28)].map((t,a)=>e.jsx("option",{value:a+1,children:a+1},a+1))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"startDate",className:"block text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",id:"startDate",name:"startDate",value:l.startDate,onChange:c,className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endDate",className:"block text-gray-700 mb-2",children:"End Date (Optional)"}),e.jsx("input",{type:"date",id:"endDate",name:"endDate",value:l.endDate,onChange:c,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentMethod",className:"block text-gray-700 mb-2",children:"Payment Method"}),e.jsxs("select",{id:"paymentMethod",name:"paymentMethod",value:l.paymentMethod,onChange:c,className:"input-field",required:!0,children:[e.jsx("option",{value:"",children:"Select a payment method"}),M.map(t=>e.jsxs("option",{value:t.name,children:[t.name," ",t.type==="bank"?"(Account)":"(Card)"," •••• ",t.last4]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{id:"category",name:"category",value:l.category,onChange:c,className:"input-field",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),P.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("input",{type:"text",id:"description",name:"description",value:l.description,onChange:c,className:"input-field",placeholder:"e.g., Rent payment, Utility bill, etc.",required:!0})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:y?"Update Auto-Payment":"Set Up Auto-Payment"})]})]})]}):$(),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-800 mb-2",children:"About Auto-Pay"}),e.jsx("p",{className:"text-blue-700 mb-2",children:"Auto-Pay allows you to set up recurring payments that will be automatically processed on the schedule you choose."}),e.jsxs("ul",{className:"list-disc list-inside text-blue-700 space-y-1",children:[e.jsx("li",{children:"You can pause or cancel auto-payments at any time"}),e.jsx("li",{children:"You'll receive notifications before each payment is processed"}),e.jsx("li",{children:"For monthly payments, you can select which day of the month the payment should occur"}),e.jsx("li",{children:"All auto-payments are secured with the same protection as regular payments"})]})]})]})}export{ne as default};
