import{u as b,r as n,g as m,n as g,j as e,F as f}from"./index-tsYpG-Wr.js";import{c as N,j as y,e as v,f as C}from"./storage-DPUFa0CT.js";import{F as q}from"./PlusIcon-CsXuBxtz.js";function k(){const o=b(),[d,x]=n.useState([]),[u,i]=n.useState(!1),[t,r]=n.useState({name:"",target:"",frequency:"monthly",description:""});n.useEffect(()=>{if(!m()){g("login");return}l()},[o]);const l=()=>{x(N())},p=s=>{s.preventDefault(),C({...t,target:parseFloat(t.target)}),i(!1),r({name:"",target:"",frequency:"monthly",description:""}),l()},h=s=>{const a=m();y(s,a.id),l()},j=(s,a)=>{const c=m();v(s,{userId:c.id,amount:parseFloat(a)}),l()};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Saving Groups"}),e.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Create Group"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:d.map(s=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:e.jsx(f,{className:"w-6 h-6"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.frequency," contributions"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600",children:s.description}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Target Amount"}),e.jsxs("p",{className:"text-lg font-semibold",children:["$",s.target.toLocaleString()]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Members"}),e.jsx("p",{className:"text-lg font-semibold",children:s.members.length})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Contributions"}),e.jsxs("p",{className:"text-lg font-semibold",children:["$",s.contributions.reduce((a,c)=>a+c.amount,0).toLocaleString()]})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-4",children:[e.jsx("button",{onClick:()=>h(s.id),className:"flex-1 btn-primary",children:"Join Group"}),e.jsx("button",{onClick:()=>{const a=prompt("Enter contribution amount:");a&&j(s.id,a)},className:"flex-1 btn-primary",children:"Contribute"})]})]},s.id))}),u&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Saving Group"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Group Name"}),e.jsx("input",{type:"text",id:"name",value:t.name,onChange:s=>r({...t,name:s.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"target",className:"block text-gray-700 mb-2",children:"Target Amount ($)"}),e.jsx("input",{type:"number",id:"target",min:"0",step:"0.01",value:t.target,onChange:s=>r({...t,target:s.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"frequency",className:"block text-gray-700 mb-2",children:"Contribution Frequency"}),e.jsxs("select",{id:"frequency",value:t.frequency,onChange:s=>r({...t,frequency:s.target.value}),className:"input-field",required:!0,children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:t.description,onChange:s=>r({...t,description:s.target.value}),className:"input-field",rows:"3",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Create Group"})]})]})]})})]})}export{k as default};
