import{u as N,s as v,r as t,j as e,L as k,x as P}from"./index-tsYpG-Wr.js";function C(){const g=N(),l=v(),[i,d]=t.useState(""),[c,m]=t.useState(""),[r,f]=t.useState(""),[u,y]=t.useState(""),[x,o]=t.useState(""),[h,p]=t.useState(""),[b,n]=t.useState(!1);t.useEffect(()=>{const s=new URLSearchParams(l.search),a=s.get("email"),w=s.get("token");a&&d(a),w&&m(w)},[l]);const j=async s=>{if(s.preventDefault(),o(""),p(""),n(!0),r!==u){o("Passwords do not match"),n(!1);return}try{await P(i,c,r),p("Password reset successfully! You can now log in with your new password."),setTimeout(()=>{g("/login")},2e3)}catch(a){o(a.message)}finally{n(!1)}};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Reset Your Password"}),x&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),h&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:h}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:i,onChange:s=>d(s.target.value),className:"input-field",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"token",className:"block text-gray-700 mb-2",children:"Reset Token"}),e.jsx("input",{type:"text",id:"token",value:c,onChange:s=>m(s.target.value),className:"input-field",placeholder:"Enter the reset token",required:!0}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Check your console for the reset token (in a real app, this would be sent to your email)."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",id:"password",value:r,onChange:s=>f(s.target.value),className:"input-field",placeholder:"Enter your new password",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:u,onChange:s=>y(s.target.value),className:"input-field",placeholder:"Confirm your new password",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full btn-primary mb-4",disabled:b,children:b?"Resetting...":"Reset Password"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-center text-gray-600",children:["Remembered your password?"," ",e.jsx(k,{to:"/login",className:"text-primary hover:text-secondary",children:"Back to Login"})]})})]})})}export{C as default};
