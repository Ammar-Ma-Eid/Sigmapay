import{u as v,s as j,r as a,j as e,L as N,v as C,t as E}from"./index-tsYpG-Wr.js";function V(){const b=v(),c=j(),[r,o]=a.useState(""),[l,y]=a.useState(""),[m,s]=a.useState(""),[u,i]=a.useState(""),[x,d]=a.useState(!1);a.useEffect(()=>{var f;const n=new URLSearchParams(c.search).get("email"),h=(f=c.state)==null?void 0:f.email;n?o(n):h&&o(h)},[c]);const g=async t=>{if(t.preventDefault(),s(""),i(""),!r){s("Email is required");return}if(!l){s("Verification code is required");return}try{await C(r,l),i("Account verified successfully! You can now log in."),setTimeout(()=>{b("/login")},2e3)}catch(n){s(n.message)}},p=async()=>{if(s(""),i(""),d(!0),!r){s("Email is required"),d(!1);return}try{await E(r),i("Verification code resent. Please check your console for the code (in a real app, this would be sent to your email).")}catch(t){s(t.message)}finally{d(!1)}};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Verify Your Account"}),m&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m}),u&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:u}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:r,onChange:t=>o(t.target.value),className:"input-field",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"code",className:"block text-gray-700 mb-2",children:"Verification Code"}),e.jsx("input",{type:"text",id:"code",value:l,onChange:t=>y(t.target.value),className:"input-field",placeholder:"Enter the 6-digit code",required:!0}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Check your console for the verification code (in a real app, this would be sent to your email)."})]}),e.jsx("button",{type:"submit",className:"w-full btn-primary mb-4",children:"Verify Account"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:p,className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",disabled:x,children:x?"Resending...":"Resend Verification Code"})})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-center text-gray-600",children:["Already verified?"," ",e.jsx(N,{to:"/login",className:"text-primary hover:text-secondary",children:"Login"})]})})]})})}export{V as default};
