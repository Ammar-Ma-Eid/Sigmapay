import{r,u as L,g as R,j as e,l as E,m as $,o as D,p as A,q as G}from"./index-tsYpG-Wr.js";import{F as b}from"./BellAlertIcon-B2ESIegp.js";import{F as C}from"./ShieldCheckIcon-BNdVHfj9.js";import{F as M}from"./PencilIcon-DuPQ1jVl.js";function z({title:f,titleId:o,...x},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},x),f?r.createElement("title",{id:o},f):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const q=r.forwardRef(z);function W(){const f=L(),[o,x]=r.useState("personal"),[c,g]=r.useState(null),[t,y]=r.useState(!1),[n,j]=r.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),[m,N]=r.useState({monthlyIncome:0,budgetPlan:0,spendingLimit:0,savingsGoal:0}),[l,v]=r.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,w]=r.useState(null);r.useEffect(()=>{const s=R();if(!s){f("/login");return}g(s),j({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",phone:s.phone||"",address:s.address||"",city:s.city||"",state:s.state||"",zipCode:s.zipCode||""}),N({monthlyIncome:s.monthlyIncome||0,budgetPlan:s.budgetPlan||0,spendingLimit:s.spendingLimit||0,savingsGoal:s.savingsGoal||0}),s.profileImage&&w(s.profileImage)},[f]);const d=s=>{const{name:a,value:i}=s.target;j({...n,[a]:i})},h=s=>{const{name:a,value:i}=s.target;N({...m,[a]:parseFloat(i)||0})},P=s=>{s.preventDefault();try{const a=G(n);g(a),y(!1),alert("Profile updated successfully!")}catch(a){alert("Failed to update profile: "+a.message)}},k=s=>{s.preventDefault();try{const a=D(m);g(a),alert("Financial information updated successfully!")}catch(a){alert("Failed to update financial information: "+a.message)}},I=s=>{const a=s.target.files[0];if(!a)return;const i=new FileReader;i.onloadend=()=>{w(i.result)},i.readAsDataURL(a)},F=()=>{if(u)try{const s=A(u);g(s),alert("Profile image updated successfully!")}catch(s){alert("Failed to update profile image: "+s.message)}},p=s=>{const{name:a,value:i}=s.target;v({...l,[a]:i})},S=s=>{if(s.preventDefault(),l.newPassword!==l.confirmPassword){alert("New passwords do not match");return}try{$(c.id,l.currentPassword,l.newPassword),v({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully!")}catch(a){alert("Failed to change password: "+a.message)}};if(!c)return e.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."});const U=()=>{switch(o){case"personal":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Personal Information"}),e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 flex items-center",onClick:()=>y(!t),children:[e.jsx(M,{className:"h-4 w-4 mr-1"}),t?"Cancel":"Edit"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"md:w-1/3 flex flex-col items-center",children:[e.jsx("div",{className:"w-40 h-40 rounded-full bg-gray-200 overflow-hidden mb-4",children:u?e.jsx("img",{src:u,alt:c.firstName,className:"w-full h-full object-cover"}):e.jsx(q,{className:"w-full h-full text-gray-400"})}),e.jsxs("div",{className:"flex flex-col items-center space-y-2 w-full",children:[e.jsxs("label",{className:"btn-primary text-center cursor-pointer w-full",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:I}),"Choose Image"]}),u&&u!==c.profileImage&&e.jsx("button",{className:"btn-secondary w-full",onClick:F,children:"Save Image"})]})]}),e.jsx("div",{className:"md:w-2/3",children:e.jsxs("form",{onSubmit:P,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",name:"address",value:n.address,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",name:"city",value:n.city,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),e.jsx("input",{type:"text",name:"state",value:n.state,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code"}),e.jsx("input",{type:"text",name:"zipCode",value:n.zipCode,onChange:d,disabled:!t,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 disabled:bg-gray-100"})]})]})]}),t&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})})]})})]})]});case"financial":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Financial Information"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Used for budget calculations and financial planning"})]}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(E,{className:"h-6 w-6 text-green-600 mr-2"}),e.jsx("h4",{className:"text-lg font-medium",children:"Income & Budget"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Income"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"number",name:"monthlyIncome",value:m.monthlyIncome,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-7",min:"0",step:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget Plan"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"number",name:"budgetPlan",value:m.budgetPlan,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-7",min:"0",step:"100"})]})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(C,{className:"h-6 w-6 text-indigo-600 mr-2"}),e.jsx("h4",{className:"text-lg font-medium",children:"Limits & Goals"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Spending Limit"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"number",name:"spendingLimit",value:m.spendingLimit,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-7",min:"0",step:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Savings Goal"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"number",name:"savingsGoal",value:m.savingsGoal,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-7",min:"0",step:"100"})]})]})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",className:"btn-primary",children:"Update Financial Information"})})]})]});case"preferences":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Account Preferences"}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates and alerts via email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates and alerts via SMS"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates and alerts via push notifications"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h5",{className:"font-medium mb-4",children:"Change Password"}),e.jsx("form",{onSubmit:S,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),e.jsx("input",{type:"password",name:"currentPassword",value:l.currentPassword,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",name:"newPassword",value:l.newPassword,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn-primary",children:"Change Password"})})]})})]})]})]})]});default:return null}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account settings and preferences"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("nav",{className:"flex space-x-4 overflow-x-auto pb-2",children:[e.jsx("button",{className:`px-3 py-2 text-sm font-medium rounded-md ${o==="personal"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>x("personal"),children:"Personal Information"}),e.jsx("button",{className:`px-3 py-2 text-sm font-medium rounded-md ${o==="financial"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>x("financial"),children:"Financial Information"}),e.jsx("button",{className:`px-3 py-2 text-sm font-medium rounded-md ${o==="preferences"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>x("preferences"),children:"Preferences"})]})}),U()]})}export{W as default};
